# Setup: Docu-notion + docusaurus

## Description
This detailed guide serves as an invaluable resource for setting up NodeJS, docu-notion, and Docusaurus on Ubuntu 20.04, specifically designed for those looking to enhance their documentation workflow. Ideal for developers and technical writers, this tutorial provides a seamless method to integrate docu-notion with Docusaurus, creating a dynamic and sophisticated documentation site.

Key Highlights:

* ***NodeJS Installation on Ubuntu:*** Comprehensive instructions for downloading and installing NodeJS (v21.4.0). It includes steps to set environment variables for both temporary and permanent configurations. This segment is particularly useful for those needing a stable NodeJS setup on Ubuntu for web development.
* ***Integrating docu-notion with Docusaurus:*** This part of the guide meticulously walks you through the process of cloning a docu-notion sample site, configuring Notion API tokens, and setting up the environment for Docusaurus. It is perfect for users looking to leverage Notion's content management features within a Docusaurus-powered site.
* ***Launching a Docusaurus Server:*** Detailed instructions on initiating a Docusaurus server, essential for testing and deploying your integrated documentation site. This step is crucial for anyone new to Docusaurus or static site generators.

> **Note:** Some bs description generated by ChatGPT4 ^^^.

#### Host specs:

Ubuntu 20.04

#### Software specs:

- NodeJS `[v21.4.0]`
- npm `[v10.2.4]`
- yarn `[v1.22.21]`

## NodeJS installation

1. **Create a Temporary Directory:**

```bash
mkdir -p ~/tmp && cd ~/tmp 
```

2. **Download NodeJS:** 

```bash
wget https://nodejs.org/dist/v21.4.0/node-v21.4.0-linux-x64.tar.xz
```

3. **Unpack NodeJS and Set Environment Variables:**
   * Use one of the following methods:
    * **Method A (Persistent Environment Variables):**
        ```bash
        sudo mkdir -p /usr/local/lib/nodejs
        sudo tar -xJvf node-v21.4.0-linux-x64.tar.xz -C /usr/local/lib/nodejs
        echo 'export NODEJS_HOME=/usr/local/lib/nodejs/node-v21.4.0-linux-x64' | sudo tee -a /etc/profile
        echo 'export PATH=$NODEJS_HOME/bin:$PATH' | sudo tee -a /etc/profile
        source /etc/profile
        ```
    
    * **Method B (Temporary Environment Variables):**
        ```bash
        sudo mkdir -p /usr/local/lib/nodejs
        sudo tar -xJvf node-v21.4.0-linux-x64.tar.xz -C /usr/local/lib/nodejs
        echo 'export NODEJS_HOME=/usr/local/lib/nodejs/node-v21.4.0-linux-x64' | sudo tee -a /etc/profile
        echo 'export PATH=$NODEJS_HOME/bin:$PATH' | sudo tee -a /etc/profile
        source /etc/profile
        ```

4. **Install yarn:**

```bash
npm install --global yarn
```

5. **Check Installed Versions:**

```bash
node -v
npm -v
yarn -v
```

## Clone and Prepare Repository for Docusaurus

1. **Clone the Repository:**

```bash
cd ~/tmp
git clone https://github.com/sillsdev/docu-notion-sample-site.git
```

2. **Set Notion API Token and Root Page:**
    * Replace *** with your Notion token and root page.
    * **Set Environment Variables:**
    ```bash
    export DOCU_NOTION_SAMPLE_ROOT_PAGE=[***]
    export DOCU_NOTION_INTEGRATION_TOKEN=[***]
    ```
    * Source: [Notion integration](https://developers.notion.com/docs/create-a-notion-integration#give-your-integration-page-permissions)

3. **Install Dependencies:**
```bash
npm install
```

4. **Parse Pages with docu-notion:**

```bash
npx docu-notion -n $DOCU_NOTION_INTEGRATION_TOKEN -r $DOCU_NOTION_SAMPLE_ROOT_PAGE
```

## Starting Docusaurus Server

1. **Navigate to the Project Directory:**
2. **Start the Docusaurus Server:**
```bash
yarn start
```
* Source [Docusaurus Intallation Guide](https://docusaurus.io/docs/installation)

